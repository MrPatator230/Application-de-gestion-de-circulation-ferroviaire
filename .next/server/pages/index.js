(()=>{var e={};e.id=332,e.ids=[220,332,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},468:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n,l:()=>i});var s=a(8732),r=a(2015);let i=(0,r.createContext)(),n=({children:e})=>{let[t,a]=(0,r.useState)("Ma Soci\xe9t\xe9 Ferroviaire"),[n,l]=(0,r.useState)("Le transport ferroviaire simplifi\xe9"),[c,o]=(0,r.useState)("Description de la soci\xe9t\xe9 ferroviaire..."),[d,u]=(0,r.useState)("#007bff"),[m,h]=(0,r.useState)("#6c757d"),[p,g]=(0,r.useState)("Train Schedule Management");return(0,r.useEffect)(()=>{!async function(){try{let e=await fetch("/api/settings");if(e.ok){let t=await e.json();a(t.companyName||"Ma Soci\xe9t\xe9 Ferroviaire"),l(t.companySlogan||"Le transport ferroviaire simplifi\xe9"),o(t.companyDescription||"Description de la soci\xe9t\xe9 ferroviaire..."),u(t.primaryColor||"#007bff"),h(t.secondaryColor||"#6c757d"),g(t.appName||"Train Schedule Management")}}catch(e){console.error("Failed to fetch settings:",e)}}()},[]),(0,s.jsx)(i.Provider,{value:{companyName:t,setCompanyName:a,companySlogan:n,setCompanySlogan:l,companyDescription:c,setCompanyDescription:o,primaryColor:d,setPrimaryColor:u,secondaryColor:m,setSecondaryColor:h,appName:p,setAppName:g},children:e})}},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},2768:()=>{},3673:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AuthContext:()=>u,default:()=>h});var s=a(8732);let r=require("styled-jsx/style");var i=a.n(r);a(5378),a(2768);var n=a(2015),l=a(4233),c=a(9788),o=a.n(c),d=a(468);let u=(0,n.createContext)();function m({children:e}){let{primaryColor:t,secondaryColor:a,appName:r}=(0,n.useContext)(d.l);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{id:"f1209dfa6dead71",dynamic:[t,a],children:`:root{--bs-primary:${t};--bs-secondary:${a}}`}),e]})}function h({Component:e,pageProps:t}){let[a,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),h=(0,l.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/startbootstrap-sb-admin-2@4.1.4/css/sb-admin-2.min.css",rel:"stylesheet"}),(0,s.jsx)("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css",rel:"stylesheet"})]}),(0,s.jsx)(u.Provider,{value:{isAuthenticated:a,role:i,login:(e,t)=>"admin"===e&&"admin"===t?(localStorage.setItem("authToken","dummy-token"),localStorage.setItem("userRole","admin"),localStorage.setItem("username",e),r(!0),c("admin"),h.push("/admin"),!0):!!JSON.parse(localStorage.getItem("users")||"[]").find(a=>a.username===e&&a.password===t)&&(localStorage.setItem("authToken","dummy-token"),localStorage.setItem("userRole","client"),localStorage.setItem("username",e),r(!0),c("client"),h.push("/client"),!0),logout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("username"),r(!1),c(null),h.push("/login")},register:(e,t)=>{let a=JSON.parse(localStorage.getItem("users")||"[]");return!a.find(t=>t.username===e)&&(a.push({username:e,password:t}),localStorage.setItem("users",JSON.stringify(a)),localStorage.setItem("authToken","dummy-token"),localStorage.setItem("userRole","client"),localStorage.setItem("username",e),r(!0),c("client"),h.push("/client"),!0)}},children:(0,s.jsx)(d.Z,{children:(0,s.jsx)(m,{children:(0,s.jsx)(e,{...t})})})})]})}},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},6938:(e,t,a)=>{"use strict";a.r(t),a.d(t,{config:()=>S,default:()=>x,getServerSideProps:()=>b,getStaticPaths:()=>j,getStaticProps:()=>v,reportWebVitals:()=>f,routeModule:()=>I,unstable_getServerProps:()=>k,unstable_getServerSideProps:()=>M,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>N});var s={};a.r(s),a.d(s,{default:()=>g});var r=a(3885),i=a(237),n=a(1413),l=a(9616),c=a.n(l),o=a(3673),d=a(8732),u=a(9918),m=a.n(u),h=a(2015);let p={Retard:"bg-warning text-dark",Suppression:"bg-danger",Information:"bg-primary",Modification:"bg-info text-dark"};function g(){let[e,t]=(0,h.useState)([]),[a,s]=(0,h.useState)([]),r=a.slice(0,3);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("header",{className:"bg-white shadow mb-4",children:(0,d.jsxs)("nav",{className:"container navbar navbar-expand-lg navbar-light",children:[(0,d.jsx)("a",{className:"navbar-brand fw-bold",href:"#",children:"TER Bourgogne - Franche-Comt\xe9"}),(0,d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,d.jsx)("span",{className:"navbar-toggler-icon"})}),(0,d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:(0,d.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(m(),{href:"/",legacyBehavior:!0,children:(0,d.jsx)("a",{className:"nav-link active","aria-current":"page",children:"Accueil"})})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(m(),{href:"/horaires-par-gares",legacyBehavior:!0,children:(0,d.jsx)("a",{className:"nav-link",children:"Horaires"})})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)("a",{className:"nav-link",href:"/actualites",children:"Actualit\xe9s"})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(m(),{href:"/prochains-departs",legacyBehavior:!0,children:(0,d.jsx)("a",{className:"nav-link",children:"Prochains D\xe9parts"})})}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(m(),{href:"/login",legacyBehavior:!0,children:(0,d.jsx)("a",{className:"btn btn-outline-success ms-3",children:"Se connecter"})})})]})})]})}),(0,d.jsxs)("main",{className:"container my-5",children:[(0,d.jsx)("h1",{className:"display-4 mb-4 text-center",children:"Bienvenue sur le site TER Bourgogne - Franche-Comt\xe9"}),(0,d.jsx)("p",{className:"lead text-center mb-5",children:"Site en cours de d\xe9veloppement"}),(0,d.jsxs)("section",{className:"mb-5",children:[(0,d.jsx)("h2",{className:"mb-3",children:"Infos Trafic"}),0===e.length?(0,d.jsx)("p",{children:"Aucune info trafic disponible actuellement."}):(0,d.jsx)("div",{className:"list-group",children:e.map(e=>(0,d.jsxs)("div",{className:"list-group-item",children:[(0,d.jsx)("h5",{children:e.title}),(0,d.jsxs)("p",{children:[e.startDate||"-"," ",e.endDate?`\xe0 ${e.endDate}`:""]}),(0,d.jsx)("p",{children:e.description}),(0,d.jsx)("p",{children:(0,d.jsx)("span",{className:`badge ${p[e.impactType]||"bg-secondary"}`,children:e.impactType})}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Horaires impact\xe9s:"})," ",0===e.impactedTrains.length?"-":e.impactedTrains.join(", ")]})]},e.id))})]}),(0,d.jsxs)("section",{className:"mt-5",children:[(0,d.jsx)("h2",{children:"Derni\xe8res actualit\xe9s"}),0===r.length?(0,d.jsx)("p",{children:"Aucune actualit\xe9 disponible."}):(0,d.jsx)("div",{className:"list-group",children:r.map(e=>(0,d.jsx)(m(),{href:`/actualites/${e.id}`,legacyBehavior:!0,children:(0,d.jsxs)("a",{className:"list-group-item list-group-item-action",children:[(0,d.jsx)("h5",{children:e.title}),(0,d.jsx)("small",{className:"text-muted",children:new Date(e.date).toLocaleDateString()}),(0,d.jsx)("p",{children:e.content.length>100?e.content.substring(0,100)+"...":e.content})]})},e.id))}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)(m(),{href:"/actualites",legacyBehavior:!0,children:(0,d.jsx)("a",{children:"Voir toutes les actualit\xe9s"})})})]})]})]})}let x=(0,n.M)(s,"default"),v=(0,n.M)(s,"getStaticProps"),j=(0,n.M)(s,"getStaticPaths"),b=(0,n.M)(s,"getServerSideProps"),S=(0,n.M)(s,"config"),f=(0,n.M)(s,"reportWebVitals"),N=(0,n.M)(s,"unstable_getStaticProps"),y=(0,n.M)(s,"unstable_getStaticPaths"),P=(0,n.M)(s,"unstable_getStaticParams"),k=(0,n.M)(s,"unstable_getServerProps"),M=(0,n.M)(s,"unstable_getServerSideProps"),I=new r.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:s})},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[89,466,616,358],()=>a(6938));module.exports=s})();