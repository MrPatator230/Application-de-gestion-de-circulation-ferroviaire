"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/upload-audio";
exports.ids = ["pages/api/upload-audio"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-audio&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-audio.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-audio&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-audio.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_upload_audio_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\upload-audio.js */ \"(api-node)/./pages/api/upload-audio.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_upload_audio_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_upload_audio_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_audio_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_audio_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/upload-audio\",\n        pathname: \"/api/upload-audio\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_upload_audio_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGdXBsb2FkLWF1ZGlvJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1cGxvYWQtYXVkaW8uanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDMEQ7QUFDMUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHVEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx1REFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFx1cGxvYWQtYXVkaW8uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VwbG9hZC1hdWRpb1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VwbG9hZC1hdWRpb1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-audio&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-audio.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/upload-audio.js":
/*!***********************************!*\
  !*** ./pages/api/upload-audio.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-connect */ \"next-connect\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([next_connect__WEBPACK_IMPORTED_MODULE_0__]);\nnext_connect__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst audioDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'public', 'audio');\nconst metadataFile = path__WEBPACK_IMPORTED_MODULE_2___default().join(audioDir, 'metadata.json');\n// Ensure directories exist\nif (!fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(audioDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_3___default().mkdirSync(audioDir, {\n        recursive: true\n    });\n}\n// Initialize metadata file if it doesn't exist\nif (!fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(metadataFile)) {\n    fs__WEBPACK_IMPORTED_MODULE_3___default().writeFileSync(metadataFile, JSON.stringify({}));\n}\nfunction getMetadata() {\n    try {\n        return JSON.parse(fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(metadataFile, 'utf8'));\n    } catch (error) {\n        console.error('Error reading metadata:', error);\n        return {};\n    }\n}\nfunction saveMetadata(metadata) {\n    fs__WEBPACK_IMPORTED_MODULE_3___default().writeFileSync(metadataFile, JSON.stringify(metadata, null, 2));\n}\nconst storage = multer__WEBPACK_IMPORTED_MODULE_1___default().diskStorage({\n    destination: function(req, file, cb) {\n        cb(null, audioDir);\n    },\n    filename: function(req, file, cb) {\n        const fileId = Date.now().toString();\n        const originalExt = path__WEBPACK_IMPORTED_MODULE_2___default().extname(file.originalname);\n        const randomSuffix = Math.floor(Math.random() * 1000000000);\n        cb(null, `${fileId}-${randomSuffix}${originalExt}`);\n    }\n});\nconst upload = multer__WEBPACK_IMPORTED_MODULE_1___default()({\n    storage: storage,\n    fileFilter: (req, file, cb)=>{\n        // Accept only audio files\n        if (file.mimetype.startsWith('audio/')) {\n            cb(null, true);\n        } else {\n            cb(new Error('Seuls les fichiers audio sont acceptés.'));\n        }\n    },\n    limits: {\n        fileSize: 10 * 1024 * 1024\n    }\n});\nconst apiRoute = (0,next_connect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    onError (error, req, res) {\n        console.error('Upload error:', error);\n        res.status(500).json({\n            error: `Erreur lors du téléchargement: ${error.message}`\n        });\n    },\n    onNoMatch (req, res) {\n        res.status(405).json({\n            error: `Méthode '${req.method}' non autorisée`\n        });\n    }\n});\napiRoute.use(upload.array('files'));\napiRoute.post((req, res)=>{\n    try {\n        const metadata = getMetadata();\n        const uploadedFiles = req.files.map((file)=>{\n            const fileId = path__WEBPACK_IMPORTED_MODULE_2___default().basename(file.filename, path__WEBPACK_IMPORTED_MODULE_2___default().extname(file.filename)).split('-')[0];\n            const fileInfo = {\n                id: fileId,\n                name: file.originalname,\n                url: `/audio/${file.filename}`,\n                folderId: req.body.folderId || null,\n                type: file.mimetype,\n                size: file.size,\n                createdAt: new Date().toISOString()\n            };\n            // Save file metadata\n            metadata[fileId] = fileInfo;\n            return fileInfo;\n        });\n        // Save updated metadata\n        saveMetadata(metadata);\n        res.status(200).json({\n            uploadedFiles\n        });\n    } catch (error) {\n        console.error('Error processing upload:', error);\n        res.status(500).json({\n            error: 'Erreur lors du traitement du fichier'\n        });\n    }\n});\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiRoute);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUU7WUFDdEYsTUFBTUMsV0FBVztnQkFDZkMsSUFBSW5DO2dCQUNKb0MsTUFBTXZDLEtBQUtTLFlBQVk7Z0JBQ3ZCK0IsS0FBSyxDQUFDLE9BQU8sRUFBRXhDLEtBQUtFLFFBQVEsRUFBRTtnQkFDOUJ1QyxVQUFVMUMsSUFBSTJDLElBQUksQ0FBQ0QsUUFBUSxJQUFJO2dCQUMvQkUsTUFBTTNDLEtBQUtnQixRQUFRO2dCQUNuQjRCLE1BQU01QyxLQUFLNEMsSUFBSTtnQkFDZkMsV0FBVyxJQUFJekMsT0FBTzBDLFdBQVc7WUFDbkM7WUFFQSxxQkFBcUI7WUFDckJuRCxRQUFRLENBQUNRLE9BQU8sR0FBR2tDO1lBRW5CLE9BQU9BO1FBQ1Q7UUFFQSx3QkFBd0I7UUFDeEIzQyxhQUFhQztRQUViNEIsSUFBSUMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFTztRQUFjO0lBQ3ZDLEVBQUUsT0FBT3hDLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUMrQixJQUFJQyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVqQyxPQUFPO1FBQXVDO0lBQ3ZFO0FBQ0Y7QUFFTyxNQUFNdUQsU0FBUztJQUNwQkMsS0FBSztRQUNIQyxZQUFZO0lBQ2Q7QUFDRixFQUFFO0FBRUYsaUVBQWU1QixRQUFRQSxFQUFDIiwic291cmNlcyI6WyJDOlxcbGFyYWdvblxcd3d3XFxTTkNGLUdlc3Rpb25cXHBhZ2VzXFxhcGlcXHVwbG9hZC1hdWRpby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbmV4dENvbm5lY3QgZnJvbSAnbmV4dC1jb25uZWN0JztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuXHJcbmNvbnN0IGF1ZGlvRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAnYXVkaW8nKTtcclxuY29uc3QgbWV0YWRhdGFGaWxlID0gcGF0aC5qb2luKGF1ZGlvRGlyLCAnbWV0YWRhdGEuanNvbicpO1xyXG5cclxuLy8gRW5zdXJlIGRpcmVjdG9yaWVzIGV4aXN0XHJcbmlmICghZnMuZXhpc3RzU3luYyhhdWRpb0RpcikpIHtcclxuICBmcy5ta2RpclN5bmMoYXVkaW9EaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG59XHJcblxyXG4vLyBJbml0aWFsaXplIG1ldGFkYXRhIGZpbGUgaWYgaXQgZG9lc24ndCBleGlzdFxyXG5pZiAoIWZzLmV4aXN0c1N5bmMobWV0YWRhdGFGaWxlKSkge1xyXG4gIGZzLndyaXRlRmlsZVN5bmMobWV0YWRhdGFGaWxlLCBKU09OLnN0cmluZ2lmeSh7fSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNZXRhZGF0YSgpIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKG1ldGFkYXRhRmlsZSwgJ3V0ZjgnKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgbWV0YWRhdGE6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XHJcbiAgZnMud3JpdGVGaWxlU3luYyhtZXRhZGF0YUZpbGUsIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhLCBudWxsLCAyKSk7XHJcbn1cclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgYXVkaW9EaXIpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBmaWxlSWQgPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XHJcbiAgICBjb25zdCBvcmlnaW5hbEV4dCA9IHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSk7XHJcbiAgICBjb25zdCByYW5kb21TdWZmaXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMDAwKTtcclxuICAgIGNiKG51bGwsIGAke2ZpbGVJZH0tJHtyYW5kb21TdWZmaXh9JHtvcmlnaW5hbEV4dH1gKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgc3RvcmFnZTogc3RvcmFnZSxcclxuICBmaWxlRmlsdGVyOiAocmVxLCBmaWxlLCBjYikgPT4ge1xyXG4gICAgLy8gQWNjZXB0IG9ubHkgYXVkaW8gZmlsZXNcclxuICAgIGlmIChmaWxlLm1pbWV0eXBlLnN0YXJ0c1dpdGgoJ2F1ZGlvLycpKSB7XHJcbiAgICAgIGNiKG51bGwsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2IobmV3IEVycm9yKCdTZXVscyBsZXMgZmljaGllcnMgYXVkaW8gc29udCBhY2NlcHTDqXMuJykpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGltaXRzOiB7XHJcbiAgICBmaWxlU2l6ZTogMTAgKiAxMDI0ICogMTAyNCwgLy8gMTBNQiBsaW1pdFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgYXBpUm91dGUgPSBuZXh0Q29ubmVjdCh7XHJcbiAgb25FcnJvcihlcnJvciwgcmVxLCByZXMpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1VwbG9hZCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBgRXJyZXVyIGxvcnMgZHUgdMOpbMOpY2hhcmdlbWVudDogJHtlcnJvci5tZXNzYWdlfWAgfSk7XHJcbiAgfSxcclxuICBvbk5vTWF0Y2gocmVxLCByZXMpIHtcclxuICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6IGBNw6l0aG9kZSAnJHtyZXEubWV0aG9kfScgbm9uIGF1dG9yaXPDqWVgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuYXBpUm91dGUudXNlKHVwbG9hZC5hcnJheSgnZmlsZXMnKSk7XHJcblxyXG5hcGlSb3V0ZS5wb3N0KChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IGdldE1ldGFkYXRhKCk7XHJcbiAgICBjb25zdCB1cGxvYWRlZEZpbGVzID0gcmVxLmZpbGVzLm1hcChmaWxlID0+IHtcclxuICAgICAgY29uc3QgZmlsZUlkID0gcGF0aC5iYXNlbmFtZShmaWxlLmZpbGVuYW1lLCBwYXRoLmV4dG5hbWUoZmlsZS5maWxlbmFtZSkpLnNwbGl0KCctJylbMF07XHJcbiAgICAgIGNvbnN0IGZpbGVJbmZvID0ge1xyXG4gICAgICAgIGlkOiBmaWxlSWQsXHJcbiAgICAgICAgbmFtZTogZmlsZS5vcmlnaW5hbG5hbWUsXHJcbiAgICAgICAgdXJsOiBgL2F1ZGlvLyR7ZmlsZS5maWxlbmFtZX1gLFxyXG4gICAgICAgIGZvbGRlcklkOiByZXEuYm9keS5mb2xkZXJJZCB8fCBudWxsLFxyXG4gICAgICAgIHR5cGU6IGZpbGUubWltZXR5cGUsXHJcbiAgICAgICAgc2l6ZTogZmlsZS5zaXplLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBTYXZlIGZpbGUgbWV0YWRhdGFcclxuICAgICAgbWV0YWRhdGFbZmlsZUlkXSA9IGZpbGVJbmZvO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGZpbGVJbmZvO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2F2ZSB1cGRhdGVkIG1ldGFkYXRhXHJcbiAgICBzYXZlTWV0YWRhdGEobWV0YWRhdGEpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXBsb2FkZWRGaWxlcyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyB1cGxvYWQ6JywgZXJyb3IpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0VycmV1ciBsb3JzIGR1IHRyYWl0ZW1lbnQgZHUgZmljaGllcicgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgYXBpOiB7XHJcbiAgICBib2R5UGFyc2VyOiBmYWxzZSxcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBpUm91dGU7XHJcbiJdLCJuYW1lcyI6WyJuZXh0Q29ubmVjdCIsIm11bHRlciIsInBhdGgiLCJmcyIsImF1ZGlvRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJtZXRhZGF0YUZpbGUiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwid3JpdGVGaWxlU3luYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRNZXRhZGF0YSIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwiZXJyb3IiLCJjb25zb2xlIiwic2F2ZU1ldGFkYXRhIiwibWV0YWRhdGEiLCJzdG9yYWdlIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiZmlsZUlkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwib3JpZ2luYWxFeHQiLCJleHRuYW1lIiwib3JpZ2luYWxuYW1lIiwicmFuZG9tU3VmZml4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidXBsb2FkIiwiZmlsZUZpbHRlciIsIm1pbWV0eXBlIiwic3RhcnRzV2l0aCIsIkVycm9yIiwibGltaXRzIiwiZmlsZVNpemUiLCJhcGlSb3V0ZSIsIm9uRXJyb3IiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm9uTm9NYXRjaCIsIm1ldGhvZCIsInVzZSIsImFycmF5IiwicG9zdCIsInVwbG9hZGVkRmlsZXMiLCJmaWxlcyIsIm1hcCIsImJhc2VuYW1lIiwic3BsaXQiLCJmaWxlSW5mbyIsImlkIiwibmFtZSIsInVybCIsImZvbGRlcklkIiwiYm9keSIsInR5cGUiLCJzaXplIiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/upload-audio.js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "next-connect":
/*!*******************************!*\
  !*** external "next-connect" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("next-connect");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-audio&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-audio.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();